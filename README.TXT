lleoblog - ДВИЖОК БЛОГА

1. Ой, что это?!

Это lleoblog - движок дневника Леонида Каганова, выложенный для использования всем желающим.

Официальная страница проекта находится здесь: http://lleo.aha.ru/blog/lleoblog (вы здесь)

Движок распространяется по лицензии, близкой по смыслу к лицензии BSD. Это значит, что вы можете свободно использовать движок в целом, а также любые его части в любых целях - как некоммерческих, так и для извлечения выгоды. При этом необходимо лишь сохранить этот текст README.TXT


2. Как установить движок?

а) Распаковка

Вам нужен собственный хостинг с PHP и MySQL, а .htaccess должен уметь Rewrite - ну да они вроде везде умеют. Если какое-то из этих слово вам незнакомо, дальше читать бессмысленно. Еще бы желателен memcache, но это не обязательно - движок заточен работать и без него.

Распаковываем содержимое пакета на хостинг в любую папку. У меня называется /blog, о ней будет речь далее, но если папку вы назвали другим именем, залезьте в .htaccess и исправьте там строку RewriteBase /blog/

Также необходимо проверить, что папки /blog/log/, /blog/tmp/ и особенно /blog/tmp/antibot_cash/ доступны для записи. б) Инсталляция

Открываем config.php и исправляем там в соответствии с параметрами вашего хостинга все начальные строчки, отмеченные отступами (их 13 штук). Обратите внимание на дурацкие фразы-стишки - набейте туда любые свои глупости, это используется для паролирования. Остальные строчки конфига, не отмеченные отступами, лучше не трогайте. в) Первый запуск

Открываем с веба свой http://pupkindomain.ru/blog/admin
Если вы не увидели ничего - значит, накосячили чего-то в config.php: забыли кавычку или точку с запятой в конце строки.
Если на экране лаконичная надпись про ошибку MySQL - значит, не подключилась база, исправьте конфиг, как оно просит.
Если же открылась обширная -СТРАНИЦА АДМИНА-, значит все в порядке, не обращайте внимания на ошибки базы - баз пока нет.

Придумываем пароль админа, вводим его в окошко, жмем -Залогиниться-. Сразу предупреждаю: пароль звездочками отображаться не будет, я ненавижу этот маразм. Итак, в ответ получаем зеленую строку с переменной вида $admin_hash="2c9bda5d4a76a35521dbdfd97ad6d0f9"; Идем в config.php и вписываем ее вместо той, что была пустой (это был знак движку, что парольный хэш надо создать заново). Сам пароль нигде в конфиге не вписываем, только кэш!

Снова вводим пароль админа в окошечко - залогинились! Теперь осталось терпеливо понажимать все подряд кнопки создания баз - они будут по одной исчезать.

3. Как пользоваться движком?

Первая запись в блоге: открываем http://pupkindomain.ru/blog/editor Помните, что если дата начинается вида 2009/12/01(что дальше - не важно) - то это лист дневника, и он участвует в календаре. Записей за один день может быть несколько - например 2009/12/01-02_i_snova_zdravstvyite Ко всем будет автоматически добавляться .html Если дата начинается не с YYYY/MM/DD, то это статичный лист, он не будет участвовать в календарной навигации. Например, заметка с именем lleoblog будет доступна как /blog/lleoblog

При написании постов и ответов на комментарии учтите, что перевод строки делается html-разметкой. В будущих версиях я это исправлю, но сам я привык именно так.

У поста существует множество самых разных настроек для видимости и комментариев. По умолчанию заметка видна только админу.

4. Что умеет движок?

В текущей версии 1.3 работает многое, кроме системы авторизации посетителей с личными кабинетами - это я сделаю позже. Полезные модули:

/blog/admin - страница админа, смена пароля и инсталлятор модулей (если обновления движка потребуют изменений формата базы)

/blog/editor - редактор заметок

/blog/comments - страница, где отображаются те комментарии, которые вы еще не читали, это очень удобно, там же можно их и обрабатывать, отвечать, удалять, раскрывать и скрывать. Это избавляет от необходимости высылать их почтой.

/blog/contents - страница оглавления всех заметок. Кажется там должны работать и некоторые виды сортировки, кажется, даже поиск.

/blog/pravki - модель для администрирования правок, предложенных пользователями

/blog/rss и /blog/rssc - RSS-каналы заметок и комментариев

Также работает система правки версии 2. Остальное - как время будет.

5. Авторы.

Спасибо мне.
Спасибо Созидателю (Евгений Ненаглядов) http://sozidatel.com/ за неоценимый вклад. В сущности, он все это начинал когда-то.
Спасибо Михаилу Валенцеву http://valentsev.ru за помощь в JS при создании системы правки второго поколения.

Если у вас есть желание что-то улучшить или дописать или сделать интересный модуль (в движке модульная система, их можно довешивать неограниченно) - это прекрасно!

Последняя версия - lleoblog.1.2.zip фактически считается (мною) пререлизом, поскольку в ней уже есть все необходимое. Нет только системы пользовательских логинов - с ней как-нибудь потом.

Чистого неба и вкусного хлеба!

